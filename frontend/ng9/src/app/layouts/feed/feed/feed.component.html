<div *ngIf="(authService.authState | async) as authState" class="scroll-ref" #ref>
  <app-pick-emoji></app-pick-emoji>
  <div class="row center-xs mtl" *ngIf="loading$ | async;">
    <div class="col">
      <mat-spinner [diameter]="30"></mat-spinner>
    </div>
  </div>
  <div class="col-xs-12" *ngIf="authState.state === 'in'; else anonymous">
    <div class="row" *ngFor="let feedDoc of userFeed$ | async">
      <div class="col-xs-12" *ngIf="!(loading$ | async)">
        <app-feed-card [doc]="feedDoc" [hideAuthor]="mode === 'my-documents'"></app-feed-card>
      </div>
    </div>
  </div>
  <ng-template #anonymous>
    <div class="col-xs-12">
      <div class="row" *ngFor="let feedDoc of anonymousFeed$ | async">
        <div class="col-xs-12" *ngIf="!(loading$ | async)">
          <app-feed-card [doc]="feedDoc"></app-feed-card>
        </div>
      </div>
    </div>
  </ng-template>
</div>
