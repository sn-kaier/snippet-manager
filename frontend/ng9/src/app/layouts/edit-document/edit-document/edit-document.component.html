<div class="col-xs-12">
  <div class="row mts">
    <div class="col-xs-3">
      <button mat-button color="primary" (click)="navigateBack()">
        <mat-icon>arrow_back</mat-icon>
        Go back
      </button>
    </div>
    <div class="col-xs-6 center-xs">
      <h3 *ngIf="documentId; else newDocumentTitle">
        Edit document
      </h3>
      <ng-template #newDocumentTitle>
        <h3>New document</h3>
      </ng-template>
    </div>
  </div>


  <div class="row center-xs mtm mbm" *ngIf="loading$ | async">
    <div class="col-xs-12">
      <mat-spinner [diameter]="30"></mat-spinner>
    </div>

  </div>

  <ng-container *ngIf="documentSetInput">

    <app-card>
      <div class="row mts">
        <div class="col-xs-12 col-md-6">
          <mat-form-field class="form-field">
            <mat-label>Title</mat-label>
            <input matInput placeholder="Ex. Cookie recipe" [(ngModel)]="documentSetInput.title">
          </mat-form-field>
        </div>
      </div>

      <div class="row mtm mbs">
        <div class="col-xs-12">
          <mat-form-field class="form-field">
            <mat-label>Content</mat-label>
            <textarea
              class="content-textarea"
              cdkTextareaAutosize
              cdkAutosizeMinRows="2"
              [(ngModel)]="documentSetInput.description"
              matInput [placeholder]="'Write something'"></textarea>
          </mat-form-field>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <mat-checkbox color="accent" [(ngModel)]="documentSetInput.allowComments">Allow comments</mat-checkbox>
        </div>
        <div class="col-xs-12">
          <mat-checkbox color="accent" [(ngModel)]="documentSetInput.isPublic">Mark as public</mat-checkbox>

        </div>
      </div>

      <div class="row end-xs">
        <button mat-flat-button (click)="reset()" [disabled]="!canSave">Reset</button>
        <button mat-flat-button color="accent"
                [disabled]="!canSave"
                style="margin-left: 1em"
                (click)="saveDocument()">
          Save
        </button>
      </div>
    </app-card>
  </ng-container>
</div>
